<div class="container mx-auto p-4 max-w-2xl">
  <div class="flex items-center justify-between mb-6">
    <h1 class="text-2xl font-bold">献立相談</h1>
    <%= link_to "ホーム", home_path, class: "btn btn-ghost" %>
  </div>

  <%= form_with url: meal_searches_path, method: :post, local: true, class: "space-y-6", data: { controller: "meal-search-form", turbo: false } do |f| %>

    <!-- 自炊 or 中食 -->
    <div class="form-control">
      <label class="label">
        <span class="label-text font-semibold">自炊 or 中食</span>
      </label>
      <div class="flex gap-4">
        <label class="label cursor-pointer gap-2">
          <%= f.radio_button :cook_context, "self_cook", class: "radio radio-primary", data: { action: "change->meal-search-form#toggleMinutes" } %>
          <span class="label-text">自炊</span>
        </label>
        <label class="label cursor-pointer gap-2">
          <%= f.radio_button :cook_context, "ready_made", class: "radio radio-primary", data: { action: "change->meal-search-form#toggleMinutes" } %>
          <span class="label-text">中食</span>
        </label>
      </div>
    </div>

    <!-- 所要時間 -->
    <div class="form-control" data-meal-search-form-target="minutesField">
      <label class="label">
        <span class="label-text font-semibold">所要時間（分）</span>
      </label>
      <%= f.select :required_minutes,
                   [10, 20, 30, 45, 60],
                   { prompt: "選択してください" },
                   { class: "select select-bordered w-full" } %>
    </div>

    <!-- ジャンル -->
    <div class="form-control">
      <label class="label">
        <span class="label-text font-semibold">ジャンル</span>
      </label>
      <%= f.collection_select :genre_id,
                              @genres,
                              :id,
                              :label,
                              { prompt: "選択してください" },
                              { class: "select select-bordered w-full" } %>
    </div>

    <!-- 気分タグ -->
    <div class="form-control">
      <label class="label">
        <span class="label-text font-semibold">気分</span>
      </label>
      <%= f.collection_select :mood_tag_id,
                              @moods,
                              :id,
                              :label,
                              { prompt: "選択してください" },
                              { class: "select select-bordered w-full" } %>
    </div>

    <!-- 送信ボタン -->
    <div class="form-control mt-6">
      <%= f.submit "候補を見る", class: "btn btn-primary w-full" %>
    </div>

  <% end %>
</div>
