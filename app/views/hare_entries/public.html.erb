<div class="container mx-auto px-4 py-8">
  <div class="max-w-3xl mx-auto">
    <!-- ヘッダー -->
    <div class="mb-6">
      <h1 class="text-2xl md:text-3xl font-bold text-gray-800 mb-2">みんなのハレ</h1>
      <p class="text-gray-600">他のユーザーのハレ投稿を見てみましょう</p>
    </div>

    <!-- 投稿一覧 -->
    <% if @hare_entries.any? %>
      <div class="space-y-4">
        <% @hare_entries.each do |entry| %>
          <div class="card bg-white shadow-md">
            <div class="card-body">
              <!-- ユーザー情報 -->
              <div class="flex items-center mb-3">
                <div class="avatar">
                  <div class="w-10 rounded-full">
                    <%= image_tag level_image_url(entry.user.level), alt: entry.user.display_name, class: "rounded-full" %>
                  </div>
                </div>
                <div class="ml-3">
                  <p class="font-semibold text-gray-800"><%= entry.user.display_name %></p>
                  <p class="text-sm text-gray-500"><%= l(entry.occurred_on, format: :long) %></p>
                </div>
              </div>

              <!-- 投稿内容 -->
              <p class="text-gray-700 mb-3 break-words"><%= entry.body %></p>

              <!-- 写真 -->
              <% if entry.photo.attached? %>
                <div class="mb-3">
                  <%= image_tag cloudinary_photo_url(entry.photo, resize_to_limit: [600, 600]), class: "rounded-lg max-h-96 max-w-full w-auto mx-auto" %>
                </div>
              <% end %>

              <!-- タグ -->
              <% if entry.hare_tags.any? %>
                <div class="flex flex-wrap gap-2">
                  <% entry.hare_tags.each do |tag| %>
                    <span class="badge badge-accent">
                      <%= tag.label %>
                    </span>
                  <% end %>
                </div>
              <% end %>
            </div>
          </div>
        <% end %>
      </div>

      <!-- ページネーション -->
      <div class="mt-8 flex justify-center">
        <%= paginate @hare_entries %>
      </div>
    <% else %>
      <!-- 投稿がない場合 -->
      <div class="text-center py-12">
        <p class="text-gray-500 text-lg">まだ公開されている投稿がありません</p>
      </div>
    <% end %>
  </div>
</div>
